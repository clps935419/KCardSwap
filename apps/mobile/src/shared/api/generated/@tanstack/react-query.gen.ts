// This file is auto-generated by @hey-api/openapi-ts

import {
  type DefaultError,
  type InfiniteData,
  infiniteQueryOptions,
  queryOptions,
  type UseMutationOptions,
} from '@tanstack/react-query';

import { client } from '../client.gen';
import {
  acceptFriendRequestApiV1FriendsFriendshipIdAcceptPost,
  acceptInterestApiV1PostsPostIdInterestsInterestIdAcceptPost,
  acceptTradeApiV1TradesTradeIdAcceptPost,
  adminLoginApiV1AuthAdminLoginPost,
  apiHealthCheckApiV1HealthGet,
  blockUserApiV1FriendsBlockPost,
  cancelTradeApiV1TradesTradeIdCancelPost,
  closePostApiV1PostsPostIdClosePost,
  completeTradeApiV1TradesTradeIdCompletePost,
  createPostApiV1PostsPost,
  createTradeApiV1TradesPost,
  deleteCardApiV1CardsCardIdDelete,
  expireSubscriptionsApiV1SubscriptionsExpireSubscriptionsPost,
  expressInterestApiV1PostsPostIdInterestPost,
  getAverageRatingApiV1RatingsUserUserIdAverageGet,
  getChatRoomsApiV1ChatsGet,
  getFriendsApiV1FriendsGet,
  getMessagesApiV1ChatsRoomIdMessagesGet,
  getMyCardsApiV1CardsMeGet,
  getMyProfileApiV1ProfileMeGet,
  getMyReportsApiV1ReportsGet,
  getQuotaStatusApiV1CardsQuotaStatusGet,
  getSubscriptionStatusApiV1SubscriptionsStatusGet,
  getTradeHistoryApiV1TradesHistoryGet,
  getUploadUrlApiV1CardsUploadUrlPost,
  getUserRatingsApiV1RatingsUserUserIdGet,
  googleCallbackApiV1AuthGoogleCallbackPost,
  googleLoginApiV1AuthGoogleLoginPost,
  healthCheckHealthGet,
  listPostsApiV1PostsGet,
  markMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPost,
  type Options,
  refreshTokenApiV1AuthRefreshPost,
  rejectInterestApiV1PostsPostIdInterestsInterestIdRejectPost,
  rejectTradeApiV1TradesTradeIdRejectPost,
  rootGet,
  searchNearbyCardsApiV1NearbySearchPost,
  sendFriendRequestApiV1FriendsRequestPost,
  sendMessageApiV1ChatsRoomIdMessagesPost,
  submitRatingApiV1RatingsPost,
  submitReportApiV1ReportsPost,
  updateMyProfileApiV1ProfileMePut,
  updateUserLocationApiV1NearbyLocationPut,
  verifyReceiptApiV1SubscriptionsVerifyReceiptPost,
} from '../sdk.gen';
import type {
  AcceptFriendRequestApiV1FriendsFriendshipIdAcceptPostData,
  AcceptFriendRequestApiV1FriendsFriendshipIdAcceptPostResponse,
  AcceptInterestApiV1PostsPostIdInterestsInterestIdAcceptPostData,
  AcceptInterestApiV1PostsPostIdInterestsInterestIdAcceptPostResponse,
  AcceptTradeApiV1TradesTradeIdAcceptPostData,
  AcceptTradeApiV1TradesTradeIdAcceptPostResponse,
  AdminLoginApiV1AuthAdminLoginPostData,
  AdminLoginApiV1AuthAdminLoginPostError,
  AdminLoginApiV1AuthAdminLoginPostResponse,
  ApiHealthCheckApiV1HealthGetData,
  BlockUserApiV1FriendsBlockPostData,
  BlockUserApiV1FriendsBlockPostResponse,
  CancelTradeApiV1TradesTradeIdCancelPostData,
  CancelTradeApiV1TradesTradeIdCancelPostError,
  CancelTradeApiV1TradesTradeIdCancelPostResponse,
  ClosePostApiV1PostsPostIdClosePostData,
  ClosePostApiV1PostsPostIdClosePostResponse,
  CompleteTradeApiV1TradesTradeIdCompletePostData,
  CompleteTradeApiV1TradesTradeIdCompletePostError,
  CompleteTradeApiV1TradesTradeIdCompletePostResponse,
  CreatePostApiV1PostsPostData,
  CreatePostApiV1PostsPostResponse,
  CreateTradeApiV1TradesPostData,
  CreateTradeApiV1TradesPostResponse,
  DeleteCardApiV1CardsCardIdDeleteData,
  DeleteCardApiV1CardsCardIdDeleteError,
  DeleteCardApiV1CardsCardIdDeleteResponse,
  ExpireSubscriptionsApiV1SubscriptionsExpireSubscriptionsPostData,
  ExpireSubscriptionsApiV1SubscriptionsExpireSubscriptionsPostResponse,
  ExpressInterestApiV1PostsPostIdInterestPostData,
  ExpressInterestApiV1PostsPostIdInterestPostResponse,
  GetAverageRatingApiV1RatingsUserUserIdAverageGetData,
  GetAverageRatingApiV1RatingsUserUserIdAverageGetError,
  GetAverageRatingApiV1RatingsUserUserIdAverageGetResponse,
  GetChatRoomsApiV1ChatsGetData,
  GetChatRoomsApiV1ChatsGetResponse,
  GetFriendsApiV1FriendsGetData,
  GetFriendsApiV1FriendsGetError,
  GetFriendsApiV1FriendsGetResponse,
  GetMessagesApiV1ChatsRoomIdMessagesGetData,
  GetMessagesApiV1ChatsRoomIdMessagesGetError,
  GetMessagesApiV1ChatsRoomIdMessagesGetResponse,
  GetMyCardsApiV1CardsMeGetData,
  GetMyCardsApiV1CardsMeGetError,
  GetMyCardsApiV1CardsMeGetResponse,
  GetMyProfileApiV1ProfileMeGetData,
  GetMyProfileApiV1ProfileMeGetError,
  GetMyProfileApiV1ProfileMeGetResponse,
  GetMyReportsApiV1ReportsGetData,
  GetMyReportsApiV1ReportsGetResponse,
  GetQuotaStatusApiV1CardsQuotaStatusGetData,
  GetQuotaStatusApiV1CardsQuotaStatusGetResponse,
  GetSubscriptionStatusApiV1SubscriptionsStatusGetData,
  GetSubscriptionStatusApiV1SubscriptionsStatusGetResponse,
  GetTradeHistoryApiV1TradesHistoryGetData,
  GetTradeHistoryApiV1TradesHistoryGetError,
  GetTradeHistoryApiV1TradesHistoryGetResponse,
  GetUploadUrlApiV1CardsUploadUrlPostData,
  GetUploadUrlApiV1CardsUploadUrlPostResponse,
  GetUserRatingsApiV1RatingsUserUserIdGetData,
  GetUserRatingsApiV1RatingsUserUserIdGetError,
  GetUserRatingsApiV1RatingsUserUserIdGetResponse,
  GoogleCallbackApiV1AuthGoogleCallbackPostData,
  GoogleCallbackApiV1AuthGoogleCallbackPostError,
  GoogleCallbackApiV1AuthGoogleCallbackPostResponse,
  GoogleLoginApiV1AuthGoogleLoginPostData,
  GoogleLoginApiV1AuthGoogleLoginPostError,
  GoogleLoginApiV1AuthGoogleLoginPostResponse,
  HealthCheckHealthGetData,
  ListPostsApiV1PostsGetData,
  ListPostsApiV1PostsGetError,
  ListPostsApiV1PostsGetResponse,
  MarkMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostData,
  MarkMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostError,
  MarkMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostResponse,
  RefreshTokenApiV1AuthRefreshPostData,
  RefreshTokenApiV1AuthRefreshPostError,
  RefreshTokenApiV1AuthRefreshPostResponse,
  RejectInterestApiV1PostsPostIdInterestsInterestIdRejectPostData,
  RejectInterestApiV1PostsPostIdInterestsInterestIdRejectPostResponse,
  RejectTradeApiV1TradesTradeIdRejectPostData,
  RejectTradeApiV1TradesTradeIdRejectPostError,
  RejectTradeApiV1TradesTradeIdRejectPostResponse,
  RootGetData,
  SearchNearbyCardsApiV1NearbySearchPostData,
  SearchNearbyCardsApiV1NearbySearchPostError,
  SearchNearbyCardsApiV1NearbySearchPostResponse,
  SendFriendRequestApiV1FriendsRequestPostData,
  SendFriendRequestApiV1FriendsRequestPostResponse,
  SendMessageApiV1ChatsRoomIdMessagesPostData,
  SendMessageApiV1ChatsRoomIdMessagesPostResponse,
  SubmitRatingApiV1RatingsPostData,
  SubmitRatingApiV1RatingsPostResponse,
  SubmitReportApiV1ReportsPostData,
  SubmitReportApiV1ReportsPostResponse,
  UpdateMyProfileApiV1ProfileMePutData,
  UpdateMyProfileApiV1ProfileMePutError,
  UpdateMyProfileApiV1ProfileMePutResponse,
  UpdateUserLocationApiV1NearbyLocationPutData,
  UpdateUserLocationApiV1NearbyLocationPutError,
  UpdateUserLocationApiV1NearbyLocationPutResponse,
  VerifyReceiptApiV1SubscriptionsVerifyReceiptPostData,
  VerifyReceiptApiV1SubscriptionsVerifyReceiptPostError,
  VerifyReceiptApiV1SubscriptionsVerifyReceiptPostResponse,
} from '../types.gen';

export type QueryKey<TOptions extends Options> = [
  Pick<TOptions, 'baseUrl' | 'body' | 'headers' | 'path' | 'query'> & {
    _id: string;
    _infinite?: boolean;
    tags?: readonly string[];
  },
];

const createQueryKey = <TOptions extends Options>(
  id: string,
  options?: TOptions,
  infinite?: boolean,
  tags?: readonly string[]
): [QueryKey<TOptions>[0]] => {
  const params: QueryKey<TOptions>[0] = {
    _id: id,
    baseUrl: options?.baseUrl || (options?.client ?? client).getConfig().baseUrl,
  } as QueryKey<TOptions>[0];
  if (infinite) {
    params._infinite = infinite;
  }
  if (tags) {
    params.tags = tags;
  }
  if (options?.body) {
    params.body = options.body;
  }
  if (options?.headers) {
    params.headers = options.headers;
  }
  if (options?.path) {
    params.path = options.path;
  }
  if (options?.query) {
    params.query = options.query;
  }
  return [params];
};

export const healthCheckHealthGetQueryKey = (options?: Options<HealthCheckHealthGetData>) =>
  createQueryKey('healthCheckHealthGet', options);

/**
 * Health Check
 *
 * Health check endpoint for container orchestration.
 */
export const healthCheckHealthGetOptions = (options?: Options<HealthCheckHealthGetData>) =>
  queryOptions<unknown, DefaultError, unknown, ReturnType<typeof healthCheckHealthGetQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await healthCheckHealthGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: healthCheckHealthGetQueryKey(options),
  });

export const apiHealthCheckApiV1HealthGetQueryKey = (
  options?: Options<ApiHealthCheckApiV1HealthGetData>
) => createQueryKey('apiHealthCheckApiV1HealthGet', options);

/**
 * Api Health Check
 *
 * API health check endpoint.
 */
export const apiHealthCheckApiV1HealthGetOptions = (
  options?: Options<ApiHealthCheckApiV1HealthGetData>
) =>
  queryOptions<
    unknown,
    DefaultError,
    unknown,
    ReturnType<typeof apiHealthCheckApiV1HealthGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await apiHealthCheckApiV1HealthGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: apiHealthCheckApiV1HealthGetQueryKey(options),
  });

export const rootGetQueryKey = (options?: Options<RootGetData>) =>
  createQueryKey('rootGet', options);

/**
 * Root
 *
 * Root endpoint.
 */
export const rootGetOptions = (options?: Options<RootGetData>) =>
  queryOptions<unknown, DefaultError, unknown, ReturnType<typeof rootGetQueryKey>>({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await rootGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: rootGetQueryKey(options),
  });

/**
 * Admin login with email/password
 *
 * Authenticate admin user with email and password. Only users with admin or super_admin role can login.
 */
export const adminLoginApiV1AuthAdminLoginPostMutation = (
  options?: Partial<Options<AdminLoginApiV1AuthAdminLoginPostData>>
): UseMutationOptions<
  AdminLoginApiV1AuthAdminLoginPostResponse,
  AdminLoginApiV1AuthAdminLoginPostError,
  Options<AdminLoginApiV1AuthAdminLoginPostData>
> => {
  const mutationOptions: UseMutationOptions<
    AdminLoginApiV1AuthAdminLoginPostResponse,
    AdminLoginApiV1AuthAdminLoginPostError,
    Options<AdminLoginApiV1AuthAdminLoginPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await adminLoginApiV1AuthAdminLoginPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Login with Google
 *
 * Authenticate user with Google OAuth token and receive JWT tokens
 */
export const googleLoginApiV1AuthGoogleLoginPostMutation = (
  options?: Partial<Options<GoogleLoginApiV1AuthGoogleLoginPostData>>
): UseMutationOptions<
  GoogleLoginApiV1AuthGoogleLoginPostResponse,
  GoogleLoginApiV1AuthGoogleLoginPostError,
  Options<GoogleLoginApiV1AuthGoogleLoginPostData>
> => {
  const mutationOptions: UseMutationOptions<
    GoogleLoginApiV1AuthGoogleLoginPostResponse,
    GoogleLoginApiV1AuthGoogleLoginPostError,
    Options<GoogleLoginApiV1AuthGoogleLoginPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await googleLoginApiV1AuthGoogleLoginPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Google OAuth Callback with PKCE
 *
 * Authenticate user with Google OAuth authorization code and PKCE code_verifier (Expo AuthSession)
 */
export const googleCallbackApiV1AuthGoogleCallbackPostMutation = (
  options?: Partial<Options<GoogleCallbackApiV1AuthGoogleCallbackPostData>>
): UseMutationOptions<
  GoogleCallbackApiV1AuthGoogleCallbackPostResponse,
  GoogleCallbackApiV1AuthGoogleCallbackPostError,
  Options<GoogleCallbackApiV1AuthGoogleCallbackPostData>
> => {
  const mutationOptions: UseMutationOptions<
    GoogleCallbackApiV1AuthGoogleCallbackPostResponse,
    GoogleCallbackApiV1AuthGoogleCallbackPostError,
    Options<GoogleCallbackApiV1AuthGoogleCallbackPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await googleCallbackApiV1AuthGoogleCallbackPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Refresh access token
 *
 * Use refresh token to obtain new access and refresh tokens
 */
export const refreshTokenApiV1AuthRefreshPostMutation = (
  options?: Partial<Options<RefreshTokenApiV1AuthRefreshPostData>>
): UseMutationOptions<
  RefreshTokenApiV1AuthRefreshPostResponse,
  RefreshTokenApiV1AuthRefreshPostError,
  Options<RefreshTokenApiV1AuthRefreshPostData>
> => {
  const mutationOptions: UseMutationOptions<
    RefreshTokenApiV1AuthRefreshPostResponse,
    RefreshTokenApiV1AuthRefreshPostError,
    Options<RefreshTokenApiV1AuthRefreshPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await refreshTokenApiV1AuthRefreshPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

export const getMyProfileApiV1ProfileMeGetQueryKey = (
  options?: Options<GetMyProfileApiV1ProfileMeGetData>
) => createQueryKey('getMyProfileApiV1ProfileMeGet', options);

/**
 * Get my profile
 *
 * Retrieve the authenticated user's profile information
 */
export const getMyProfileApiV1ProfileMeGetOptions = (
  options?: Options<GetMyProfileApiV1ProfileMeGetData>
) =>
  queryOptions<
    GetMyProfileApiV1ProfileMeGetResponse,
    GetMyProfileApiV1ProfileMeGetError,
    GetMyProfileApiV1ProfileMeGetResponse,
    ReturnType<typeof getMyProfileApiV1ProfileMeGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getMyProfileApiV1ProfileMeGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getMyProfileApiV1ProfileMeGetQueryKey(options),
  });

/**
 * Update my profile
 *
 * Update the authenticated user's profile information
 */
export const updateMyProfileApiV1ProfileMePutMutation = (
  options?: Partial<Options<UpdateMyProfileApiV1ProfileMePutData>>
): UseMutationOptions<
  UpdateMyProfileApiV1ProfileMePutResponse,
  UpdateMyProfileApiV1ProfileMePutError,
  Options<UpdateMyProfileApiV1ProfileMePutData>
> => {
  const mutationOptions: UseMutationOptions<
    UpdateMyProfileApiV1ProfileMePutResponse,
    UpdateMyProfileApiV1ProfileMePutError,
    Options<UpdateMyProfileApiV1ProfileMePutData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await updateMyProfileApiV1ProfileMePut({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Get upload signed URL
 *
 * Generate a signed URL for uploading a card image to GCS
 */
export const getUploadUrlApiV1CardsUploadUrlPostMutation = (
  options?: Partial<Options<GetUploadUrlApiV1CardsUploadUrlPostData>>
): UseMutationOptions<
  GetUploadUrlApiV1CardsUploadUrlPostResponse,
  DefaultError,
  Options<GetUploadUrlApiV1CardsUploadUrlPostData>
> => {
  const mutationOptions: UseMutationOptions<
    GetUploadUrlApiV1CardsUploadUrlPostResponse,
    DefaultError,
    Options<GetUploadUrlApiV1CardsUploadUrlPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await getUploadUrlApiV1CardsUploadUrlPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

export const getMyCardsApiV1CardsMeGetQueryKey = (
  options?: Options<GetMyCardsApiV1CardsMeGetData>
) => createQueryKey('getMyCardsApiV1CardsMeGet', options);

/**
 * Get my cards
 *
 * Retrieve all cards owned by the authenticated user
 */
export const getMyCardsApiV1CardsMeGetOptions = (
  options?: Options<GetMyCardsApiV1CardsMeGetData>
) =>
  queryOptions<
    GetMyCardsApiV1CardsMeGetResponse,
    GetMyCardsApiV1CardsMeGetError,
    GetMyCardsApiV1CardsMeGetResponse,
    ReturnType<typeof getMyCardsApiV1CardsMeGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getMyCardsApiV1CardsMeGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getMyCardsApiV1CardsMeGetQueryKey(options),
  });

/**
 * Delete a card
 *
 * Delete a card owned by the authenticated user
 */
export const deleteCardApiV1CardsCardIdDeleteMutation = (
  options?: Partial<Options<DeleteCardApiV1CardsCardIdDeleteData>>
): UseMutationOptions<
  DeleteCardApiV1CardsCardIdDeleteResponse,
  DeleteCardApiV1CardsCardIdDeleteError,
  Options<DeleteCardApiV1CardsCardIdDeleteData>
> => {
  const mutationOptions: UseMutationOptions<
    DeleteCardApiV1CardsCardIdDeleteResponse,
    DeleteCardApiV1CardsCardIdDeleteError,
    Options<DeleteCardApiV1CardsCardIdDeleteData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await deleteCardApiV1CardsCardIdDelete({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

export const getQuotaStatusApiV1CardsQuotaStatusGetQueryKey = (
  options?: Options<GetQuotaStatusApiV1CardsQuotaStatusGetData>
) => createQueryKey('getQuotaStatusApiV1CardsQuotaStatusGet', options);

/**
 * Get quota status
 *
 * Check current upload quota usage
 */
export const getQuotaStatusApiV1CardsQuotaStatusGetOptions = (
  options?: Options<GetQuotaStatusApiV1CardsQuotaStatusGetData>
) =>
  queryOptions<
    GetQuotaStatusApiV1CardsQuotaStatusGetResponse,
    DefaultError,
    GetQuotaStatusApiV1CardsQuotaStatusGetResponse,
    ReturnType<typeof getQuotaStatusApiV1CardsQuotaStatusGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getQuotaStatusApiV1CardsQuotaStatusGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getQuotaStatusApiV1CardsQuotaStatusGetQueryKey(options),
  });

/**
 * Search for nearby cards
 *
 * Search for cards near a specific location. Free users: 5 searches/day. Premium users: unlimited.
 */
export const searchNearbyCardsApiV1NearbySearchPostMutation = (
  options?: Partial<Options<SearchNearbyCardsApiV1NearbySearchPostData>>
): UseMutationOptions<
  SearchNearbyCardsApiV1NearbySearchPostResponse,
  SearchNearbyCardsApiV1NearbySearchPostError,
  Options<SearchNearbyCardsApiV1NearbySearchPostData>
> => {
  const mutationOptions: UseMutationOptions<
    SearchNearbyCardsApiV1NearbySearchPostResponse,
    SearchNearbyCardsApiV1NearbySearchPostError,
    Options<SearchNearbyCardsApiV1NearbySearchPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await searchNearbyCardsApiV1NearbySearchPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Update user location
 *
 * Update the user's current location for nearby search visibility
 */
export const updateUserLocationApiV1NearbyLocationPutMutation = (
  options?: Partial<Options<UpdateUserLocationApiV1NearbyLocationPutData>>
): UseMutationOptions<
  UpdateUserLocationApiV1NearbyLocationPutResponse,
  UpdateUserLocationApiV1NearbyLocationPutError,
  Options<UpdateUserLocationApiV1NearbyLocationPutData>
> => {
  const mutationOptions: UseMutationOptions<
    UpdateUserLocationApiV1NearbyLocationPutResponse,
    UpdateUserLocationApiV1NearbyLocationPutError,
    Options<UpdateUserLocationApiV1NearbyLocationPutData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await updateUserLocationApiV1NearbyLocationPut({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Send friend request
 *
 * Send a friend request to another user
 */
export const sendFriendRequestApiV1FriendsRequestPostMutation = (
  options?: Partial<Options<SendFriendRequestApiV1FriendsRequestPostData>>
): UseMutationOptions<
  SendFriendRequestApiV1FriendsRequestPostResponse,
  DefaultError,
  Options<SendFriendRequestApiV1FriendsRequestPostData>
> => {
  const mutationOptions: UseMutationOptions<
    SendFriendRequestApiV1FriendsRequestPostResponse,
    DefaultError,
    Options<SendFriendRequestApiV1FriendsRequestPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await sendFriendRequestApiV1FriendsRequestPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Accept friend request
 *
 * Accept a pending friend request
 */
export const acceptFriendRequestApiV1FriendsFriendshipIdAcceptPostMutation = (
  options?: Partial<Options<AcceptFriendRequestApiV1FriendsFriendshipIdAcceptPostData>>
): UseMutationOptions<
  AcceptFriendRequestApiV1FriendsFriendshipIdAcceptPostResponse,
  DefaultError,
  Options<AcceptFriendRequestApiV1FriendsFriendshipIdAcceptPostData>
> => {
  const mutationOptions: UseMutationOptions<
    AcceptFriendRequestApiV1FriendsFriendshipIdAcceptPostResponse,
    DefaultError,
    Options<AcceptFriendRequestApiV1FriendsFriendshipIdAcceptPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await acceptFriendRequestApiV1FriendsFriendshipIdAcceptPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Block user
 *
 * Block another user (prevents all interactions)
 */
export const blockUserApiV1FriendsBlockPostMutation = (
  options?: Partial<Options<BlockUserApiV1FriendsBlockPostData>>
): UseMutationOptions<
  BlockUserApiV1FriendsBlockPostResponse,
  DefaultError,
  Options<BlockUserApiV1FriendsBlockPostData>
> => {
  const mutationOptions: UseMutationOptions<
    BlockUserApiV1FriendsBlockPostResponse,
    DefaultError,
    Options<BlockUserApiV1FriendsBlockPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await blockUserApiV1FriendsBlockPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

export const getFriendsApiV1FriendsGetQueryKey = (
  options?: Options<GetFriendsApiV1FriendsGetData>
) => createQueryKey('getFriendsApiV1FriendsGet', options);

/**
 * Get friend list
 *
 * Get list of friends (optionally filtered by status)
 */
export const getFriendsApiV1FriendsGetOptions = (
  options?: Options<GetFriendsApiV1FriendsGetData>
) =>
  queryOptions<
    GetFriendsApiV1FriendsGetResponse,
    GetFriendsApiV1FriendsGetError,
    GetFriendsApiV1FriendsGetResponse,
    ReturnType<typeof getFriendsApiV1FriendsGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getFriendsApiV1FriendsGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getFriendsApiV1FriendsGetQueryKey(options),
  });

export const getChatRoomsApiV1ChatsGetQueryKey = (
  options?: Options<GetChatRoomsApiV1ChatsGetData>
) => createQueryKey('getChatRoomsApiV1ChatsGet', options);

/**
 * Get chat rooms
 *
 * Get all chat rooms for the current user
 */
export const getChatRoomsApiV1ChatsGetOptions = (
  options?: Options<GetChatRoomsApiV1ChatsGetData>
) =>
  queryOptions<
    GetChatRoomsApiV1ChatsGetResponse,
    DefaultError,
    GetChatRoomsApiV1ChatsGetResponse,
    ReturnType<typeof getChatRoomsApiV1ChatsGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getChatRoomsApiV1ChatsGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getChatRoomsApiV1ChatsGetQueryKey(options),
  });

export const getMessagesApiV1ChatsRoomIdMessagesGetQueryKey = (
  options: Options<GetMessagesApiV1ChatsRoomIdMessagesGetData>
) => createQueryKey('getMessagesApiV1ChatsRoomIdMessagesGet', options);

/**
 * Get messages
 *
 * Get messages from a chat room (with pagination support via after_message_id)
 */
export const getMessagesApiV1ChatsRoomIdMessagesGetOptions = (
  options: Options<GetMessagesApiV1ChatsRoomIdMessagesGetData>
) =>
  queryOptions<
    GetMessagesApiV1ChatsRoomIdMessagesGetResponse,
    GetMessagesApiV1ChatsRoomIdMessagesGetError,
    GetMessagesApiV1ChatsRoomIdMessagesGetResponse,
    ReturnType<typeof getMessagesApiV1ChatsRoomIdMessagesGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getMessagesApiV1ChatsRoomIdMessagesGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getMessagesApiV1ChatsRoomIdMessagesGetQueryKey(options),
  });

/**
 * Send message
 *
 * Send a message in a chat room (triggers FCM push notification)
 */
export const sendMessageApiV1ChatsRoomIdMessagesPostMutation = (
  options?: Partial<Options<SendMessageApiV1ChatsRoomIdMessagesPostData>>
): UseMutationOptions<
  SendMessageApiV1ChatsRoomIdMessagesPostResponse,
  DefaultError,
  Options<SendMessageApiV1ChatsRoomIdMessagesPostData>
> => {
  const mutationOptions: UseMutationOptions<
    SendMessageApiV1ChatsRoomIdMessagesPostResponse,
    DefaultError,
    Options<SendMessageApiV1ChatsRoomIdMessagesPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await sendMessageApiV1ChatsRoomIdMessagesPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Mark message as read
 *
 * Mark a message as read by the current user
 */
export const markMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostMutation = (
  options?: Partial<Options<MarkMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostData>>
): UseMutationOptions<
  MarkMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostResponse,
  MarkMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostError,
  Options<MarkMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostData>
> => {
  const mutationOptions: UseMutationOptions<
    MarkMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostResponse,
    MarkMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostError,
    Options<MarkMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await markMessageReadApiV1ChatsRoomIdMessagesMessageIdReadPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Submit rating
 *
 * Submit a rating for another user (based on friendship or completed trade)
 */
export const submitRatingApiV1RatingsPostMutation = (
  options?: Partial<Options<SubmitRatingApiV1RatingsPostData>>
): UseMutationOptions<
  SubmitRatingApiV1RatingsPostResponse,
  DefaultError,
  Options<SubmitRatingApiV1RatingsPostData>
> => {
  const mutationOptions: UseMutationOptions<
    SubmitRatingApiV1RatingsPostResponse,
    DefaultError,
    Options<SubmitRatingApiV1RatingsPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await submitRatingApiV1RatingsPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

export const getUserRatingsApiV1RatingsUserUserIdGetQueryKey = (
  options: Options<GetUserRatingsApiV1RatingsUserUserIdGetData>
) => createQueryKey('getUserRatingsApiV1RatingsUserUserIdGet', options);

/**
 * Get user ratings
 *
 * Get ratings received by a specific user
 */
export const getUserRatingsApiV1RatingsUserUserIdGetOptions = (
  options: Options<GetUserRatingsApiV1RatingsUserUserIdGetData>
) =>
  queryOptions<
    GetUserRatingsApiV1RatingsUserUserIdGetResponse,
    GetUserRatingsApiV1RatingsUserUserIdGetError,
    GetUserRatingsApiV1RatingsUserUserIdGetResponse,
    ReturnType<typeof getUserRatingsApiV1RatingsUserUserIdGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getUserRatingsApiV1RatingsUserUserIdGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getUserRatingsApiV1RatingsUserUserIdGetQueryKey(options),
  });

export const getAverageRatingApiV1RatingsUserUserIdAverageGetQueryKey = (
  options: Options<GetAverageRatingApiV1RatingsUserUserIdAverageGetData>
) => createQueryKey('getAverageRatingApiV1RatingsUserUserIdAverageGet', options);

/**
 * Get average rating
 *
 * Get average rating score for a specific user
 */
export const getAverageRatingApiV1RatingsUserUserIdAverageGetOptions = (
  options: Options<GetAverageRatingApiV1RatingsUserUserIdAverageGetData>
) =>
  queryOptions<
    GetAverageRatingApiV1RatingsUserUserIdAverageGetResponse,
    GetAverageRatingApiV1RatingsUserUserIdAverageGetError,
    GetAverageRatingApiV1RatingsUserUserIdAverageGetResponse,
    ReturnType<typeof getAverageRatingApiV1RatingsUserUserIdAverageGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getAverageRatingApiV1RatingsUserUserIdAverageGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getAverageRatingApiV1RatingsUserUserIdAverageGetQueryKey(options),
  });

export const getMyReportsApiV1ReportsGetQueryKey = (
  options?: Options<GetMyReportsApiV1ReportsGetData>
) => createQueryKey('getMyReportsApiV1ReportsGet', options);

/**
 * Get my reports
 *
 * Get reports submitted by the current user
 */
export const getMyReportsApiV1ReportsGetOptions = (
  options?: Options<GetMyReportsApiV1ReportsGetData>
) =>
  queryOptions<
    GetMyReportsApiV1ReportsGetResponse,
    DefaultError,
    GetMyReportsApiV1ReportsGetResponse,
    ReturnType<typeof getMyReportsApiV1ReportsGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getMyReportsApiV1ReportsGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getMyReportsApiV1ReportsGetQueryKey(options),
  });

/**
 * Submit report
 *
 * Submit a report for inappropriate behavior or content
 */
export const submitReportApiV1ReportsPostMutation = (
  options?: Partial<Options<SubmitReportApiV1ReportsPostData>>
): UseMutationOptions<
  SubmitReportApiV1ReportsPostResponse,
  DefaultError,
  Options<SubmitReportApiV1ReportsPostData>
> => {
  const mutationOptions: UseMutationOptions<
    SubmitReportApiV1ReportsPostResponse,
    DefaultError,
    Options<SubmitReportApiV1ReportsPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await submitReportApiV1ReportsPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Create trade proposal
 *
 * Create a new trade proposal between two users
 */
export const createTradeApiV1TradesPostMutation = (
  options?: Partial<Options<CreateTradeApiV1TradesPostData>>
): UseMutationOptions<
  CreateTradeApiV1TradesPostResponse,
  DefaultError,
  Options<CreateTradeApiV1TradesPostData>
> => {
  const mutationOptions: UseMutationOptions<
    CreateTradeApiV1TradesPostResponse,
    DefaultError,
    Options<CreateTradeApiV1TradesPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await createTradeApiV1TradesPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Accept trade proposal
 *
 * Accept a trade proposal (responder only)
 */
export const acceptTradeApiV1TradesTradeIdAcceptPostMutation = (
  options?: Partial<Options<AcceptTradeApiV1TradesTradeIdAcceptPostData>>
): UseMutationOptions<
  AcceptTradeApiV1TradesTradeIdAcceptPostResponse,
  DefaultError,
  Options<AcceptTradeApiV1TradesTradeIdAcceptPostData>
> => {
  const mutationOptions: UseMutationOptions<
    AcceptTradeApiV1TradesTradeIdAcceptPostResponse,
    DefaultError,
    Options<AcceptTradeApiV1TradesTradeIdAcceptPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await acceptTradeApiV1TradesTradeIdAcceptPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Reject trade proposal
 *
 * Reject a trade proposal (responder only)
 */
export const rejectTradeApiV1TradesTradeIdRejectPostMutation = (
  options?: Partial<Options<RejectTradeApiV1TradesTradeIdRejectPostData>>
): UseMutationOptions<
  RejectTradeApiV1TradesTradeIdRejectPostResponse,
  RejectTradeApiV1TradesTradeIdRejectPostError,
  Options<RejectTradeApiV1TradesTradeIdRejectPostData>
> => {
  const mutationOptions: UseMutationOptions<
    RejectTradeApiV1TradesTradeIdRejectPostResponse,
    RejectTradeApiV1TradesTradeIdRejectPostError,
    Options<RejectTradeApiV1TradesTradeIdRejectPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await rejectTradeApiV1TradesTradeIdRejectPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Cancel trade
 *
 * Cancel a trade (either party can cancel)
 */
export const cancelTradeApiV1TradesTradeIdCancelPostMutation = (
  options?: Partial<Options<CancelTradeApiV1TradesTradeIdCancelPostData>>
): UseMutationOptions<
  CancelTradeApiV1TradesTradeIdCancelPostResponse,
  CancelTradeApiV1TradesTradeIdCancelPostError,
  Options<CancelTradeApiV1TradesTradeIdCancelPostData>
> => {
  const mutationOptions: UseMutationOptions<
    CancelTradeApiV1TradesTradeIdCancelPostResponse,
    CancelTradeApiV1TradesTradeIdCancelPostError,
    Options<CancelTradeApiV1TradesTradeIdCancelPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await cancelTradeApiV1TradesTradeIdCancelPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Confirm trade completion
 *
 * Confirm trade completion (each party confirms independently)
 */
export const completeTradeApiV1TradesTradeIdCompletePostMutation = (
  options?: Partial<Options<CompleteTradeApiV1TradesTradeIdCompletePostData>>
): UseMutationOptions<
  CompleteTradeApiV1TradesTradeIdCompletePostResponse,
  CompleteTradeApiV1TradesTradeIdCompletePostError,
  Options<CompleteTradeApiV1TradesTradeIdCompletePostData>
> => {
  const mutationOptions: UseMutationOptions<
    CompleteTradeApiV1TradesTradeIdCompletePostResponse,
    CompleteTradeApiV1TradesTradeIdCompletePostError,
    Options<CompleteTradeApiV1TradesTradeIdCompletePostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await completeTradeApiV1TradesTradeIdCompletePost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

export const getTradeHistoryApiV1TradesHistoryGetQueryKey = (
  options?: Options<GetTradeHistoryApiV1TradesHistoryGetData>
) => createQueryKey('getTradeHistoryApiV1TradesHistoryGet', options);

/**
 * Get trade history
 *
 * Get all trades for current user (as initiator or responder)
 */
export const getTradeHistoryApiV1TradesHistoryGetOptions = (
  options?: Options<GetTradeHistoryApiV1TradesHistoryGetData>
) =>
  queryOptions<
    GetTradeHistoryApiV1TradesHistoryGetResponse,
    GetTradeHistoryApiV1TradesHistoryGetError,
    GetTradeHistoryApiV1TradesHistoryGetResponse,
    ReturnType<typeof getTradeHistoryApiV1TradesHistoryGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getTradeHistoryApiV1TradesHistoryGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getTradeHistoryApiV1TradesHistoryGetQueryKey(options),
  });

const createInfiniteParams = <
  K extends Pick<QueryKey<Options>[0], 'body' | 'headers' | 'path' | 'query'>,
>(
  queryKey: QueryKey<Options>,
  page: K
) => {
  const params = { ...queryKey[0] };
  if (page.body) {
    params.body = {
      ...(queryKey[0].body as any),
      ...(page.body as any),
    };
  }
  if (page.headers) {
    params.headers = {
      ...queryKey[0].headers,
      ...page.headers,
    };
  }
  if (page.path) {
    params.path = {
      ...(queryKey[0].path as any),
      ...(page.path as any),
    };
  }
  if (page.query) {
    params.query = {
      ...(queryKey[0].query as any),
      ...(page.query as any),
    };
  }
  return params as unknown as typeof page;
};

export const getTradeHistoryApiV1TradesHistoryGetInfiniteQueryKey = (
  options?: Options<GetTradeHistoryApiV1TradesHistoryGetData>
): QueryKey<Options<GetTradeHistoryApiV1TradesHistoryGetData>> =>
  createQueryKey('getTradeHistoryApiV1TradesHistoryGet', options, true);

/**
 * Get trade history
 *
 * Get all trades for current user (as initiator or responder)
 */
export const getTradeHistoryApiV1TradesHistoryGetInfiniteOptions = (
  options?: Options<GetTradeHistoryApiV1TradesHistoryGetData>
) =>
  infiniteQueryOptions<
    GetTradeHistoryApiV1TradesHistoryGetResponse,
    GetTradeHistoryApiV1TradesHistoryGetError,
    InfiniteData<GetTradeHistoryApiV1TradesHistoryGetResponse>,
    QueryKey<Options<GetTradeHistoryApiV1TradesHistoryGetData>>,
    | number
    | Pick<
        QueryKey<Options<GetTradeHistoryApiV1TradesHistoryGetData>>[0],
        'body' | 'headers' | 'path' | 'query'
      >
  >(
    // @ts-ignore
    {
      queryFn: async ({ pageParam, queryKey, signal }) => {
        // @ts-ignore
        const page: Pick<
          QueryKey<Options<GetTradeHistoryApiV1TradesHistoryGetData>>[0],
          'body' | 'headers' | 'path' | 'query'
        > =
          typeof pageParam === 'object'
            ? pageParam
            : {
                query: {
                  offset: pageParam,
                },
              };
        const params = createInfiniteParams(queryKey, page);
        const { data } = await getTradeHistoryApiV1TradesHistoryGet({
          ...options,
          ...params,
          signal,
          throwOnError: true,
        });
        return data;
      },
      queryKey: getTradeHistoryApiV1TradesHistoryGetInfiniteQueryKey(options),
    }
  );

/**
 * Verify Receipt
 *
 * Verify Google Play purchase receipt and update subscription.
 *
 * Features:
 * - Idempotent: Same token + same user returns current status
 * - Token binding: Prevents cross-user replay attacks
 * - Auto-acknowledge: Acknowledges purchase after verification
 *
 * Error codes:
 * - 400_VALIDATION_FAILED: Invalid platform or missing fields
 * - 401_UNAUTHORIZED: Not logged in
 * - 409_CONFLICT: Purchase token already used by another user
 * - 503_SERVICE_UNAVAILABLE: Google Play API unavailable
 */
export const verifyReceiptApiV1SubscriptionsVerifyReceiptPostMutation = (
  options?: Partial<Options<VerifyReceiptApiV1SubscriptionsVerifyReceiptPostData>>
): UseMutationOptions<
  VerifyReceiptApiV1SubscriptionsVerifyReceiptPostResponse,
  VerifyReceiptApiV1SubscriptionsVerifyReceiptPostError,
  Options<VerifyReceiptApiV1SubscriptionsVerifyReceiptPostData>
> => {
  const mutationOptions: UseMutationOptions<
    VerifyReceiptApiV1SubscriptionsVerifyReceiptPostResponse,
    VerifyReceiptApiV1SubscriptionsVerifyReceiptPostError,
    Options<VerifyReceiptApiV1SubscriptionsVerifyReceiptPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await verifyReceiptApiV1SubscriptionsVerifyReceiptPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

export const getSubscriptionStatusApiV1SubscriptionsStatusGetQueryKey = (
  options?: Options<GetSubscriptionStatusApiV1SubscriptionsStatusGetData>
) => createQueryKey('getSubscriptionStatusApiV1SubscriptionsStatusGet', options);

/**
 * Get Subscription Status
 *
 * Get current subscription status for authenticated user.
 *
 * Returns server-side subscription state.
 * Called by app when opening or returning to foreground.
 *
 * Error codes:
 * - 401_UNAUTHORIZED: Not logged in
 * - 503_SERVICE_UNAVAILABLE: Database unavailable
 */
export const getSubscriptionStatusApiV1SubscriptionsStatusGetOptions = (
  options?: Options<GetSubscriptionStatusApiV1SubscriptionsStatusGetData>
) =>
  queryOptions<
    GetSubscriptionStatusApiV1SubscriptionsStatusGetResponse,
    DefaultError,
    GetSubscriptionStatusApiV1SubscriptionsStatusGetResponse,
    ReturnType<typeof getSubscriptionStatusApiV1SubscriptionsStatusGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await getSubscriptionStatusApiV1SubscriptionsStatusGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: getSubscriptionStatusApiV1SubscriptionsStatusGetQueryKey(options),
  });

/**
 * Expire Subscriptions
 *
 * Expire active subscriptions that have passed their expiry date.
 *
 * This endpoint should be called by a scheduled background task (e.g., daily cron job).
 * For POC, it's exposed as an HTTP endpoint for manual triggering.
 *
 * In production, this should be:
 * - Protected by admin authentication or internal-only access
 * - Triggered by a scheduler (APScheduler, Celery Beat, Cloud Scheduler, etc.)
 *
 * Returns:
 * Number of subscriptions expired and processing timestamp
 */
export const expireSubscriptionsApiV1SubscriptionsExpireSubscriptionsPostMutation = (
  options?: Partial<Options<ExpireSubscriptionsApiV1SubscriptionsExpireSubscriptionsPostData>>
): UseMutationOptions<
  ExpireSubscriptionsApiV1SubscriptionsExpireSubscriptionsPostResponse,
  DefaultError,
  Options<ExpireSubscriptionsApiV1SubscriptionsExpireSubscriptionsPostData>
> => {
  const mutationOptions: UseMutationOptions<
    ExpireSubscriptionsApiV1SubscriptionsExpireSubscriptionsPostResponse,
    DefaultError,
    Options<ExpireSubscriptionsApiV1SubscriptionsExpireSubscriptionsPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await expireSubscriptionsApiV1SubscriptionsExpireSubscriptionsPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

export const listPostsApiV1PostsGetQueryKey = (options: Options<ListPostsApiV1PostsGetData>) =>
  createQueryKey('listPostsApiV1PostsGet', options);

/**
 * List posts on a city board
 *
 * List all open posts for a specific city with optional filters
 */
export const listPostsApiV1PostsGetOptions = (options: Options<ListPostsApiV1PostsGetData>) =>
  queryOptions<
    ListPostsApiV1PostsGetResponse,
    ListPostsApiV1PostsGetError,
    ListPostsApiV1PostsGetResponse,
    ReturnType<typeof listPostsApiV1PostsGetQueryKey>
  >({
    queryFn: async ({ queryKey, signal }) => {
      const { data } = await listPostsApiV1PostsGet({
        ...options,
        ...queryKey[0],
        signal,
        throwOnError: true,
      });
      return data;
    },
    queryKey: listPostsApiV1PostsGetQueryKey(options),
  });

export const listPostsApiV1PostsGetInfiniteQueryKey = (
  options: Options<ListPostsApiV1PostsGetData>
): QueryKey<Options<ListPostsApiV1PostsGetData>> =>
  createQueryKey('listPostsApiV1PostsGet', options, true);

/**
 * List posts on a city board
 *
 * List all open posts for a specific city with optional filters
 */
export const listPostsApiV1PostsGetInfiniteOptions = (
  options: Options<ListPostsApiV1PostsGetData>
) =>
  infiniteQueryOptions<
    ListPostsApiV1PostsGetResponse,
    ListPostsApiV1PostsGetError,
    InfiniteData<ListPostsApiV1PostsGetResponse>,
    QueryKey<Options<ListPostsApiV1PostsGetData>>,
    | number
    | Pick<QueryKey<Options<ListPostsApiV1PostsGetData>>[0], 'body' | 'headers' | 'path' | 'query'>
  >(
    // @ts-ignore
    {
      queryFn: async ({ pageParam, queryKey, signal }) => {
        // @ts-ignore
        const page: Pick<
          QueryKey<Options<ListPostsApiV1PostsGetData>>[0],
          'body' | 'headers' | 'path' | 'query'
        > =
          typeof pageParam === 'object'
            ? pageParam
            : {
                query: {
                  offset: pageParam,
                },
              };
        const params = createInfiniteParams(queryKey, page);
        const { data } = await listPostsApiV1PostsGet({
          ...options,
          ...params,
          signal,
          throwOnError: true,
        });
        return data;
      },
      queryKey: listPostsApiV1PostsGetInfiniteQueryKey(options),
    }
  );

/**
 * Create a new city board post
 *
 * Create a new post on a city board. Free users limited to 2 posts per day.
 */
export const createPostApiV1PostsPostMutation = (
  options?: Partial<Options<CreatePostApiV1PostsPostData>>
): UseMutationOptions<
  CreatePostApiV1PostsPostResponse,
  DefaultError,
  Options<CreatePostApiV1PostsPostData>
> => {
  const mutationOptions: UseMutationOptions<
    CreatePostApiV1PostsPostResponse,
    DefaultError,
    Options<CreatePostApiV1PostsPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await createPostApiV1PostsPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Express interest in a post
 *
 * Express interest in a post. Cannot express interest in your own post or duplicate interests.
 */
export const expressInterestApiV1PostsPostIdInterestPostMutation = (
  options?: Partial<Options<ExpressInterestApiV1PostsPostIdInterestPostData>>
): UseMutationOptions<
  ExpressInterestApiV1PostsPostIdInterestPostResponse,
  DefaultError,
  Options<ExpressInterestApiV1PostsPostIdInterestPostData>
> => {
  const mutationOptions: UseMutationOptions<
    ExpressInterestApiV1PostsPostIdInterestPostResponse,
    DefaultError,
    Options<ExpressInterestApiV1PostsPostIdInterestPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await expressInterestApiV1PostsPostIdInterestPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Accept an interest
 *
 * Accept an interest. Automatically creates friendship and chat room.
 */
export const acceptInterestApiV1PostsPostIdInterestsInterestIdAcceptPostMutation = (
  options?: Partial<Options<AcceptInterestApiV1PostsPostIdInterestsInterestIdAcceptPostData>>
): UseMutationOptions<
  AcceptInterestApiV1PostsPostIdInterestsInterestIdAcceptPostResponse,
  DefaultError,
  Options<AcceptInterestApiV1PostsPostIdInterestsInterestIdAcceptPostData>
> => {
  const mutationOptions: UseMutationOptions<
    AcceptInterestApiV1PostsPostIdInterestsInterestIdAcceptPostResponse,
    DefaultError,
    Options<AcceptInterestApiV1PostsPostIdInterestsInterestIdAcceptPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await acceptInterestApiV1PostsPostIdInterestsInterestIdAcceptPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Reject an interest
 *
 * Reject an interest. Only post owner can reject.
 */
export const rejectInterestApiV1PostsPostIdInterestsInterestIdRejectPostMutation = (
  options?: Partial<Options<RejectInterestApiV1PostsPostIdInterestsInterestIdRejectPostData>>
): UseMutationOptions<
  RejectInterestApiV1PostsPostIdInterestsInterestIdRejectPostResponse,
  DefaultError,
  Options<RejectInterestApiV1PostsPostIdInterestsInterestIdRejectPostData>
> => {
  const mutationOptions: UseMutationOptions<
    RejectInterestApiV1PostsPostIdInterestsInterestIdRejectPostResponse,
    DefaultError,
    Options<RejectInterestApiV1PostsPostIdInterestsInterestIdRejectPostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await rejectInterestApiV1PostsPostIdInterestsInterestIdRejectPost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};

/**
 * Close a post
 *
 * Manually close a post. Only post owner can close.
 */
export const closePostApiV1PostsPostIdClosePostMutation = (
  options?: Partial<Options<ClosePostApiV1PostsPostIdClosePostData>>
): UseMutationOptions<
  ClosePostApiV1PostsPostIdClosePostResponse,
  DefaultError,
  Options<ClosePostApiV1PostsPostIdClosePostData>
> => {
  const mutationOptions: UseMutationOptions<
    ClosePostApiV1PostsPostIdClosePostResponse,
    DefaultError,
    Options<ClosePostApiV1PostsPostIdClosePostData>
  > = {
    mutationFn: async (fnOptions) => {
      const { data } = await closePostApiV1PostsPostIdClosePost({
        ...options,
        ...fnOptions,
        throwOnError: true,
      });
      return data;
    },
  };
  return mutationOptions;
};
