<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KCardSwap ç”¢å“è¨­è¨ˆè¦æ ¼å°è¦½</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F8FAFC; /* Slate 50 from spec */
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        /* Chart Container Logic per requirements */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Phone Simulator Frame */
        .phone-frame {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            transition: all 0.3s ease;
        }

        /* Active Tab Styling */
        .nav-item.active {
            background-color: #4F46E5; /* Indigo 600 */
            color: white;
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- REQUIRED PLACEHOLDERS -->
    <!-- Chosen Palette: Indigo-600 (Primary), Pink-500 (Secondary), Slate-50 (Background) - Strictly adhering to Spec v1.0 -->
    <!-- Application Structure Plan: A Dashboard-style Single Page Application. 
         Left Column: Navigation & Context. 
         Right Column: Content.
         Key Sections:
         1. Visual Identity System (Static Style Guide).
         2. Interactive Prototype (Dynamic Mobile Simulator): Allows users to click through the 5 core tabs defined in the spec to visualize the Layout & Components.
         3. Trade Flow Logic (Process Viz): Breaks down the complex negotiation state machine.
         4. Membership Analysis (Data Viz): Charts comparing features.
         Rationale: The spec is dense with UI rules. An interactive phone simulator is the best way to "explain" the design spec to developers/stakeholders. -->
    <!-- Visualization & Content Choices:
         1. Color Palette Grid: HTML/Tailwind Grid -> To instantly visualize the brand vibe.
         2. Interactive Mobile Simulator: HTML/CSS within a constrained container + JS state -> To demonstrate the IA and component placement without static images.
         3. Membership Radar Chart: Chart.js -> To visualize the "Paywall" strategy (Free vs Paid differentiation).
         4. Trade Flow Stepper: Vertical HTML list with JS interactivity -> To clarify the multi-step transaction process.
         CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <!-- Main Layout -->
    <div class="min-h-screen flex flex-col md:flex-row">
        
        <!-- Sidebar Navigation -->
        <aside class="w-full md:w-64 bg-white border-r border-slate-200 flex-shrink-0 sticky top-0 md:h-screen overflow-y-auto z-20">
            <div class="p-6">
                <h1 class="text-2xl font-bold text-indigo-600 tracking-tight">KCardSwap<span class="text-pink-500">.</span></h1>
                <p class="text-xs text-slate-500 mt-1">Design Spec v1.0</p>
            </div>
            
            <nav class="px-4 space-y-2">
                <button onclick="switchSection('identity')" class="nav-item active w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors hover:bg-slate-100 flex items-center">
                    <span class="mr-2">ğŸ¨</span> è¦–è¦ºè­˜åˆ¥ç³»çµ±
                </button>
                <button onclick="switchSection('prototype')" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors hover:bg-slate-100 flex items-center">
                    <span class="mr-2">ğŸ“±</span> äº’å‹•åŸå‹é è¦½
                </button>
                <button onclick="switchSection('trade-flow')" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors hover:bg-slate-100 flex items-center">
                    <span class="mr-2">ğŸ¤</span> æ ¸å¿ƒäº¤æ›æµç¨‹
                </button>
                <button onclick="switchSection('membership')" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition-colors hover:bg-slate-100 flex items-center">
                    <span class="mr-2">ğŸ“Š</span> æœƒå“¡æ¬Šç›Šåˆ†æ
                </button>
            </nav>

            <div class="absolute bottom-0 w-full p-6 bg-slate-50 border-t border-slate-100">
                <div class="text-xs text-slate-400">
                    <p>Status: Draft</p>
                    <p>Date: 2025-12-10</p>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="flex-1 overflow-y-auto bg-slate-50 p-4 md:p-8" id="main-content">
            
            <!-- SECTION 1: VISUAL IDENTITY -->
            <section id="identity-section" class="space-y-8 animate-fade-in">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h2 class="text-2xl font-bold text-slate-800 mb-4">è¦–è¦ºè­˜åˆ¥ç³»çµ± (Visual Identity)</h2>
                    <p class="text-slate-600 mb-6 leading-relaxed">
                        æœ¬å€å¡Šå®šç¾©äº† KCardSwap çš„æ ¸å¿ƒè¦–è¦ºèªè¨€ã€‚è¨­è¨ˆé¢¨æ ¼å¼·èª¿ã€ŒéŸ“ç³»æ½®æµã€èˆ‡ã€Œå¹´è¼•åŒ–ã€ï¼ŒåŒæ™‚ä¿æŒä»‹é¢ä¹¾æ·¨ä»¥å‡¸é¡¯å°å¡åœ–ç‰‡ã€‚
                        ä¸»è‰²èª¿ Indigo-600 ç”¨æ–¼å»ºç«‹ä¿¡ä»»æ„Ÿï¼ŒPink-500 ä½œç‚ºé»ç¶´è‰²å‘¼æ‡‰ç²‰çµ²ç†±æƒ…ã€‚
                    </p>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- Colors -->
                        <div>
                            <h3 class="text-lg font-semibold mb-4 text-slate-700">è‰²å½©è¨ˆç•« (Color Palette)</h3>
                            <div class="space-y-3">
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 rounded-lg bg-indigo-600 shadow-md flex items-center justify-center text-white text-xs font-bold">Primary</div>
                                    <div>
                                        <p class="font-bold text-slate-800">Indigo 600 (#4F46E5)</p>
                                        <p class="text-sm text-slate-500">CTA æŒ‰éˆ•ã€é¸å–ç‹€æ…‹ã€å“ç‰Œè­˜åˆ¥</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 rounded-lg bg-pink-500 shadow-md flex items-center justify-center text-white text-xs font-bold">Accent</div>
                                    <div>
                                        <p class="font-bold text-slate-800">Pink 500 (#EC4899)</p>
                                        <p class="text-sm text-slate-500">Likeã€æœ¬å‘½æ¨™ç±¤ã€é€šçŸ¥ç´…é»</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 rounded-lg bg-green-500 shadow-md flex items-center justify-center text-white text-xs font-bold">Status</div>
                                    <div>
                                        <p class="font-bold text-slate-800">Green 500 (#10B981)</p>
                                        <p class="text-sm text-slate-500">æŒæœ‰ä¸­ / å¯äº¤æ› (Available)</p>
                                    </div>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 rounded-lg bg-amber-500 shadow-md flex items-center justify-center text-white text-xs font-bold">Trading</div>
                                    <div>
                                        <p class="font-bold text-slate-800">Amber 500 (#F59E0B)</p>
                                        <p class="text-sm text-slate-500">æ´½è«‡ä¸­ / äº¤æ˜“é€²è¡Œä¸­</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Typography -->
                        <div>
                            <h3 class="text-lg font-semibold mb-4 text-slate-700">å­—é«”æ’å° (Typography)</h3>
                            <div class="bg-slate-50 p-6 rounded-lg border border-slate-200 space-y-4">
                                <div>
                                    <span class="text-xs text-slate-400 uppercase tracking-wider">H1 Page Title</span>
                                    <h1 class="text-2xl font-bold text-slate-900">KCardSwap é¦–é </h1>
                                </div>
                                <div>
                                    <span class="text-xs text-slate-400 uppercase tracking-wider">H2 Section Title</span>
                                    <h2 class="text-lg font-semibold text-slate-800">é™„è¿‘çš„äºº</h2>
                                </div>
                                <div>
                                    <span class="text-xs text-slate-400 uppercase tracking-wider">Body Text</span>
                                    <p class="text-base text-slate-600">é€™æ˜¯ä¸€æ®µæ¨™æº–å…§æ–‡ã€‚ç”¨æ–¼èŠå¤©è¨Šæ¯ã€è²¼æ–‡å…§å®¹èˆ‡ä¸€èˆ¬èªªæ˜æ–‡å­—ã€‚å¼·èª¿æ˜“è®€æ€§ã€‚</p>
                                </div>
                                <div>
                                    <span class="text-xs text-slate-400 uppercase tracking-wider">Caption / Metadata</span>
                                    <p class="text-xs text-slate-500">12åˆ†é˜å‰ â€¢ ğŸ“ å°åŒ—å¸‚ â€¢ 1.2km</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 2: INTERACTIVE PROTOTYPE -->
            <section id="prototype-section" class="hidden space-y-8 animate-fade-in">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                    
                    <!-- Context Column -->
                    <div class="space-y-6">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                            <h2 class="text-2xl font-bold text-slate-800 mb-4">äº’å‹•åŸå‹é è¦½ (Interactive Prototype)</h2>
                            <p class="text-slate-600 mb-4">
                                æ­¤å€å¡Šæ¨¡æ“¬ App çš„å¯¦éš›é‹ä½œé‚è¼¯ã€‚è«‹é»æ“Šå³å´æ‰‹æ©Ÿç•«é¢ä¸‹æ–¹çš„ <strong>å°è¦½åˆ— (Bottom Tab Bar)</strong> ä¾†åˆ‡æ›ä¸åŒåŠŸèƒ½é é¢ã€‚
                                æ­¤åŸå‹å¿ å¯¦å‘ˆç¾äº†è¦æ ¼æ›¸ä¸­å®šç¾©çš„ 5 å¤§æ ¸å¿ƒåŠŸèƒ½æ¨¡çµ„ã€‚
                            </p>
                            <div class="space-y-4 text-sm">
                                <div class="p-3 bg-slate-50 rounded border-l-4 border-indigo-600">
                                    <strong class="block text-indigo-700">1. é¦–é  (City Board)</strong>
                                    ç€è¦½åŸå¸‚çœ‹æ¿ï¼ŒæŸ¥çœ‹å…¶ä»–ç”¨æˆ¶çš„äº¤æ›è²¼æ–‡ã€‚
                                </div>
                                <div class="p-3 bg-slate-50 rounded border-l-4 border-pink-500">
                                    <strong class="block text-pink-600">2. é™„è¿‘ (Nearby)</strong>
                                    LBS åœ°ç†ä½ç½®æœå°‹ï¼Œé¡¯ç¤ºè·é›¢èˆ‡å¯äº¤æ›æ•¸é‡ã€‚
                                </div>
                                <div class="p-3 bg-slate-50 rounded border-l-4 border-indigo-600">
                                    <strong class="block text-indigo-700">3. ä¸Šå‚³ (Upload)</strong>
                                    æ¨¡æ“¬ Modal å½ˆå‡ºï¼Œå±•ç¤ºä¸Šå‚³å°å¡çš„è¡¨å–®è¨­è¨ˆã€‚
                                </div>
                                <div class="p-3 bg-slate-50 rounded border-l-4 border-green-500">
                                    <strong class="block text-green-600">4. èŠå¤© (Chat)</strong>
                                    åŒ…å«å¥½å‹åˆ—è¡¨èˆ‡èŠå¤©å®¤å…¥å£ï¼Œé€™æ˜¯ç™¼èµ·äº¤æ›çš„æ ¸å¿ƒã€‚
                                </div>
                                <div class="p-3 bg-slate-50 rounded border-l-4 border-slate-500">
                                    <strong class="block text-slate-600">5. æˆ‘çš„ (Profile)</strong>
                                    å€‹äººè³‡æ–™ã€ä¿¡è­½è©•åˆ†èˆ‡å¡å†Šç®¡ç†ã€‚
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Phone Simulator Column -->
                    <div class="flex justify-center">
                        <div class="phone-frame w-[340px] h-[700px] bg-black rounded-[3rem] p-3 border-4 border-slate-800 relative overflow-hidden">
                            <!-- Status Bar -->
                            <div class="absolute top-0 left-0 w-full h-8 bg-white z-20 flex justify-between items-center px-6 pt-2">
                                <span class="text-xs font-bold">09:41</span>
                                <div class="flex space-x-1">
                                    <span class="text-xs">ğŸ“¶</span>
                                    <span class="text-xs">ğŸ”‹</span>
                                </div>
                            </div>
                            
                            <!-- Dynamic Screen Content -->
                            <div id="phone-screen" class="w-full h-full bg-slate-50 rounded-[2.5rem] overflow-hidden flex flex-col pt-8 pb-16 relative">
                                
                                <!-- Header (Dynamic) -->
                                <header id="app-header" class="bg-white px-4 py-3 flex justify-between items-center shadow-sm z-10">
                                    <div class="flex items-center">
                                        <h1 class="text-xl font-bold text-slate-900" id="header-title">KCardSwap</h1>
                                    </div>
                                    <div id="header-actions">
                                        <button class="text-slate-600">ğŸ”</button>
                                    </div>
                                </header>

                                <!-- Content Scroll Area -->
                                <div id="app-body" class="flex-1 overflow-y-auto p-4 space-y-4">
                                    <!-- Content Injected via JS -->
                                </div>

                                <!-- Bottom Navigation -->
                                <nav class="absolute bottom-0 left-0 w-full bg-white border-t border-slate-200 h-16 flex justify-around items-center px-2 z-20 rounded-b-[2.5rem]">
                                    <button onclick="renderTab('home')" class="flex flex-col items-center justify-center w-12 h-12 text-indigo-600">
                                        <span class="text-xl">ğŸ </span>
                                        <span class="text-[10px] mt-1">é¦–é </span>
                                    </button>
                                    <button onclick="renderTab('nearby')" class="flex flex-col items-center justify-center w-12 h-12 text-slate-400 hover:text-indigo-600">
                                        <span class="text-xl">ğŸ“</span>
                                        <span class="text-[10px] mt-1">é™„è¿‘</span>
                                    </button>
                                    <!-- Upload Button (Special) -->
                                    <button onclick="renderTab('upload')" class="flex flex-col items-center justify-center -mt-6">
                                        <div class="w-14 h-14 bg-indigo-600 rounded-full shadow-lg flex items-center justify-center text-white text-2xl border-4 border-slate-50">
                                            +
                                        </div>
                                    </button>
                                    <button onclick="renderTab('chat')" class="flex flex-col items-center justify-center w-12 h-12 text-slate-400 hover:text-indigo-600">
                                        <span class="text-xl">ğŸ’¬</span>
                                        <span class="text-[10px] mt-1">èŠå¤©</span>
                                    </button>
                                    <button onclick="renderTab('profile')" class="flex flex-col items-center justify-center w-12 h-12 text-slate-400 hover:text-indigo-600">
                                        <span class="text-xl">ğŸ‘¤</span>
                                        <span class="text-[10px] mt-1">æˆ‘çš„</span>
                                    </button>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 3: TRADE FLOW LOGIC -->
            <section id="trade-flow-section" class="hidden space-y-8 animate-fade-in">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h2 class="text-2xl font-bold text-slate-800 mb-2">äº¤æ›æµç¨‹é‚è¼¯ (Trade Flow Logic)</h2>
                    <p class="text-slate-600 mb-6">é€™æ˜¯ App æœ€æ ¸å¿ƒã€æœ€è¤‡é›œçš„äº’å‹•ã€‚ä»¥ä¸‹æ­¥é©Ÿè§£æäº†å¾ã€Œç™¼èµ·ã€åˆ°ã€Œå®Œæˆã€çš„ç‹€æ…‹æ©Ÿè®ŠåŒ–èˆ‡ UI å°æ‡‰ã€‚</p>

                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <!-- Step 1 -->
                        <div class="border border-slate-200 rounded-lg p-4 bg-slate-50 hover:border-indigo-500 transition-colors cursor-pointer group" onclick="highlightStep(1)">
                            <div class="flex items-center justify-between mb-2">
                                <span class="bg-indigo-600 text-white text-xs font-bold px-2 py-1 rounded">Step 1</span>
                                <span class="text-xl">ğŸ¤</span>
                            </div>
                            <h3 class="font-bold text-slate-800">ç™¼èµ·ææ¡ˆ (Initiate)</h3>
                            <p class="text-xs text-slate-500 mt-2">å…¥å£ï¼šèŠå¤©å®¤å³ä¸Šè§’æŒ‰éˆ•</p>
                            <div class="mt-3 text-xs text-indigo-600 hidden group-hover:block">æŸ¥çœ‹ UI ç´°ç¯€ â†’</div>
                        </div>

                        <!-- Step 2 -->
                        <div class="border border-slate-200 rounded-lg p-4 bg-slate-50 hover:border-amber-500 transition-colors cursor-pointer group" onclick="highlightStep(2)">
                            <div class="flex items-center justify-between mb-2">
                                <span class="bg-amber-500 text-white text-xs font-bold px-2 py-1 rounded">Step 2</span>
                                <span class="text-xl">âš–ï¸</span>
                            </div>
                            <h3 class="font-bold text-slate-800">å”å•† (Negotiate)</h3>
                            <p class="text-xs text-slate-500 mt-2">ç‹€æ…‹ï¼šPending / Accepted</p>
                            <div class="mt-3 text-xs text-amber-600 hidden group-hover:block">æŸ¥çœ‹ UI ç´°ç¯€ â†’</div>
                        </div>

                        <!-- Step 3 -->
                        <div class="border border-slate-200 rounded-lg p-4 bg-slate-50 hover:border-blue-500 transition-colors cursor-pointer group" onclick="highlightStep(3)">
                            <div class="flex items-center justify-between mb-2">
                                <span class="bg-blue-500 text-white text-xs font-bold px-2 py-1 rounded">Step 3</span>
                                <span class="text-xl">ğŸ”’</span>
                            </div>
                            <h3 class="font-bold text-slate-800">é–å®šèˆ‡å®Œæˆ (Lock)</h3>
                            <p class="text-xs text-slate-500 mt-2">é›™æ–¹ç¢ºèª -> Completed</p>
                            <div class="mt-3 text-xs text-blue-600 hidden group-hover:block">æŸ¥çœ‹ UI ç´°ç¯€ â†’</div>
                        </div>

                        <!-- Step 4 -->
                        <div class="border border-slate-200 rounded-lg p-4 bg-slate-50 hover:border-green-500 transition-colors cursor-pointer group" onclick="highlightStep(4)">
                            <div class="flex items-center justify-between mb-2">
                                <span class="bg-green-500 text-white text-xs font-bold px-2 py-1 rounded">Step 4</span>
                                <span class="text-xl">â­ï¸</span>
                            </div>
                            <h3 class="font-bold text-slate-800">è©•åˆ† (Rating)</h3>
                            <p class="text-xs text-slate-500 mt-2">äº”æ˜Ÿè©•åƒ¹ + æ–‡å­—å›é¥‹</p>
                            <div class="mt-3 text-xs text-green-600 hidden group-hover:block">æŸ¥çœ‹ UI ç´°ç¯€ â†’</div>
                        </div>
                    </div>

                    <!-- Detail View (Dynamic) -->
                    <div id="flow-detail" class="mt-8 bg-slate-800 text-white p-6 rounded-xl hidden">
                        <!-- Content populated by JS -->
                    </div>
                </div>
            </section>

            <!-- SECTION 4: MEMBERSHIP ANALYSIS -->
            <section id="membership-section" class="hidden space-y-8 animate-fade-in">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-100">
                    <h2 class="text-2xl font-bold text-slate-800 mb-4">æœƒå“¡æ¬Šç›Šåˆ†æ (Membership Analysis)</h2>
                    <p class="text-slate-600 mb-6">
                        åŸºæ–¼ User Story 6 (å…è²»/ä»˜è²»æœƒå“¡å·®ç•°)ï¼Œæ­¤åœ–è¡¨é‡åŒ–äº†ä»˜è²»å‡ç´šå¸¶ä¾†çš„é—œéµæ¬Šç›Šæå‡ã€‚
                        ç³»çµ±è¨­è¨ˆéœ€ç¢ºä¿ä»˜è²»èª˜å› è¶³å¤ å¼·çƒˆï¼ˆè§£é™¤é™åˆ¶ã€è¦–è¦ºå·®ç•°ï¼‰ï¼ŒåŒæ™‚ç¶­æŒå…è²»æœƒå“¡çš„åŸºæœ¬å¯ç”¨æ€§ã€‚
                    </p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                        <!-- Chart Container -->
                        <div class="chart-container">
                            <canvas id="membershipChart"></canvas>
                        </div>

                        <!-- Text Breakdown -->
                        <div class="space-y-4">
                            <div class="flex items-start">
                                <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 mr-3 flex-shrink-0">1</div>
                                <div>
                                    <h4 class="font-bold text-slate-800">ä¸Šå‚³é™åˆ¶</h4>
                                    <p class="text-sm text-slate-600">å…è²»æœƒå“¡æ¯æ—¥é™ 3 å¼µï¼Œé˜²æ­¢è³‡æºæ¿«ç”¨ã€‚ä»˜è²»æœƒå“¡ç„¡é™åˆ¶ï¼Œæ»¿è¶³é‡åº¦æ”¶è—å®¶éœ€æ±‚ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 mr-3 flex-shrink-0">2</div>
                                <div>
                                    <h4 class="font-bold text-slate-800">LBS æœå°‹é™åˆ¶</h4>
                                    <p class="text-sm text-slate-600">é™„è¿‘çš„äººæœå°‹æ¶ˆè€—ä¼ºæœå™¨è³‡æºè¼ƒå¤§ã€‚å…è²»æœƒå“¡æ¯æ—¥é™ 5 æ¬¡ï¼Œä»˜è²»æœƒå“¡ç„¡é™æ¬¡ä¸”æœå°‹çµæœå„ªå…ˆæ’åºã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 mr-3 flex-shrink-0">3</div>
                                <div>
                                    <h4 class="font-bold text-slate-800">è¦–è¦ºå·®ç•°</h4>
                                    <p class="text-sm text-slate-600">ä»˜è²»æœƒå“¡åœ¨åˆ—è¡¨ä¸­æ“æœ‰ã€Œé‡‘è‰²çš‡å† ã€èˆ‡ã€Œé«˜äº®é‚Šæ¡†ã€ï¼Œå¢åŠ æ›å…‰ç‡èˆ‡ä¿¡è³´æ„Ÿã€‚</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- Navigation Logic ---
        function switchSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('main > section').forEach(el => {
                el.classList.add('hidden');
            });
            // Show target section
            document.getElementById(sectionId + '-section').classList.remove('hidden');
            
            // Update Tab Styles
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active', 'bg-indigo-600', 'text-white');
                // Re-add default hover classes slightly messy but functional for vanilla
            });
            const activeBtn = document.querySelector(`button[onclick="switchSection('${sectionId}')"]`);
            if(activeBtn) {
                activeBtn.classList.add('active');
            }

            // Trigger specific renders
            if (sectionId === 'membership') {
                renderChart();
            }
            if (sectionId === 'prototype') {
                renderTab('home'); // Reset phone to home
            }
        }

        // --- Interactive Prototype Logic (Render Spec to HTML) ---
        const appBody = document.getElementById('app-body');
        const headerTitle = document.getElementById('header-title');

        const mockData = {
            feeds: [
                { user: 'HanniFan_TW', time: '10åˆ†é˜å‰', title: 'ã€æ±‚æ›ã€‘NewJeans Hanni è—ç‰ˆ æ› Minji', tags: ['#NewJeans', '#Hanni'], interests: 5 },
                { user: 'MarkLee0802', time: '1å°æ™‚å‰', title: 'NCT Dream ISTJ çµ•ç‰ˆå°å¡ å‡ºå”®/äº¤æ›', tags: ['#NCT', '#Mark'], interests: 2 },
                { user: 'Once_Forever', time: '2å°æ™‚å‰', title: 'Twice å­ç‘œ æ­·å¹´å°å¡æ•´ç†', tags: ['#Twice', '#Tzuyu'], interests: 12 }
            ],
            nearby: [
                { name: 'JennieKim', dist: '0.5km', stars: '5.0', cards: 12, vip: true },
                { name: 'StayKidsUser', dist: '1.2km', stars: '4.8', cards: 5, vip: false },
                { name: 'AespaWinter', dist: '2.5km', stars: '4.9', cards: 8, vip: false }
            ]
        };

        function renderTab(tab) {
            // Update active state of bottom nav icons
            const navBtns = document.querySelectorAll('#phone-screen nav button');
            navBtns.forEach(btn => btn.classList.remove('text-indigo-600'));
            // This simple logic assumes order. For robustness, we'd query by click handler, but this works for demo.
            
            appBody.innerHTML = ''; // Clear content

            switch(tab) {
                case 'home':
                    headerTitle.textContent = 'ğŸ“ å°åŒ—å¸‚ â–¼';
                    appBody.innerHTML = `
                        <!-- Search Bar -->
                        <div class="bg-slate-100 rounded-full px-4 py-2 text-sm text-slate-400 mb-4 flex items-center">
                            <span>ğŸ”</span> <span class="ml-2">æœå°‹åœ˜é«”ã€æˆå“¡...</span>
                        </div>
                        <!-- Feeds -->
                        ${mockData.feeds.map(feed => `
                            <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100">
                                <div class="flex items-center mb-2">
                                    <div class="w-8 h-8 bg-slate-200 rounded-full mr-2"></div>
                                    <div>
                                        <p class="text-xs font-bold text-slate-800">${feed.user}</p>
                                        <p class="text-[10px] text-slate-400">${feed.time}</p>
                                    </div>
                                </div>
                                <h3 class="font-bold text-sm text-slate-800 mb-2">${feed.title}</h3>
                                <div class="flex space-x-1 mb-3">
                                    ${feed.tags.map(tag => `<span class="text-[10px] bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded-full">${tag}</span>`).join('')}
                                </div>
                                <div class="flex justify-between items-center pt-2 border-t border-slate-50">
                                    <span class="text-xs text-slate-500">æœ‰èˆˆè¶£ (${feed.interests})</span>
                                    <button class="text-xs text-pink-500 border border-pink-500 rounded-full px-3 py-1 hover:bg-pink-50">æˆ‘æ„Ÿèˆˆè¶£</button>
                                </div>
                            </div>
                        `).join('')}
                    `;
                    break;

                case 'nearby':
                    headerTitle.textContent = 'é™„è¿‘çš„äºº';
                    appBody.innerHTML = `
                        <!-- Filter Sub-header -->
                        <div class="flex justify-between items-center mb-4 px-1">
                            <span class="text-xs bg-white border border-slate-200 px-2 py-1 rounded">è·é›¢: 5km â–¾</span>
                            <div class="flex items-center space-x-2">
                                <span class="text-[10px] text-slate-400">éš±èº«æ¨¡å¼</span>
                                <div class="w-8 h-4 bg-slate-300 rounded-full relative"><div class="absolute left-0.5 top-0.5 w-3 h-3 bg-white rounded-full shadow"></div></div>
                            </div>
                        </div>
                        <!-- List -->
                        ${mockData.nearby.map(u => `
                            <div class="bg-white p-3 rounded-xl shadow-sm border ${u.vip ? 'border-amber-300 bg-amber-50/10' : 'border-slate-100'} flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-slate-200 rounded-full mr-3 border-2 ${u.vip ? 'border-amber-400' : 'border-white'} relative">
                                        ${u.vip ? '<div class="absolute -top-1 -right-1 text-[8px]">ğŸ‘‘</div>' : ''}
                                    </div>
                                    <div>
                                        <p class="text-sm font-bold text-slate-800">${u.name}</p>
                                        <p class="text-[10px] text-indigo-500 font-medium">ğŸ“ ${u.dist} â€¢ â­ ${u.stars}</p>
                                        <p class="text-[10px] text-slate-400">å¯äº¤æ›: ${u.cards} å¼µ</p>
                                    </div>
                                </div>
                                <button class="bg-indigo-600 text-white text-xs px-3 py-1.5 rounded-full">æ‰“æ‹›å‘¼</button>
                            </div>
                        `).join('')}
                    `;
                    break;

                case 'upload':
                    headerTitle.textContent = 'ä¸Šå‚³å°å¡';
                    appBody.innerHTML = `
                        <!-- Modal Simulation -->
                        <div class="absolute inset-0 bg-black/50 z-30 flex flex-col justify-end">
                            <div class="bg-white rounded-t-[2rem] p-6 h-[85%] animate-slide-up">
                                <div class="w-12 h-1 bg-slate-200 rounded-full mx-auto mb-6"></div>
                                <div class="w-full h-40 bg-slate-100 rounded-xl mb-6 flex flex-col items-center justify-center border-2 border-dashed border-slate-300">
                                    <span class="text-2xl">ğŸ“·</span>
                                    <span class="text-xs text-slate-400 mt-2">é»æ“Šæ‹æ”æˆ–é¸æ“‡ç…§ç‰‡</span>
                                </div>
                                <div class="space-y-4">
                                    <div>
                                        <label class="text-xs font-bold text-slate-700">å¶åƒ/åœ˜é«” *</label>
                                        <div class="w-full h-10 bg-slate-50 border border-slate-200 rounded-lg mt-1"></div>
                                    </div>
                                    <div>
                                        <label class="text-xs font-bold text-slate-700">å°ˆè¼¯/ç³»åˆ— *</label>
                                        <div class="w-full h-10 bg-slate-50 border border-slate-200 rounded-lg mt-1"></div>
                                    </div>
                                    <div class="flex items-center justify-between pt-2">
                                        <span class="text-sm font-bold text-slate-700">äº¤æ›ç‹€æ…‹</span>
                                        <div class="w-10 h-6 bg-green-500 rounded-full relative"><div class="absolute right-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow"></div></div>
                                    </div>
                                </div>
                                <button onclick="renderTab('profile')" class="w-full bg-indigo-600 text-white font-bold py-3 rounded-xl mt-8 shadow-lg shadow-indigo-200">ç¢ºèªç™¼å¸ƒ</button>
                            </div>
                        </div>
                    `;
                    break;

                case 'chat':
                    headerTitle.textContent = 'èŠå¤©å®¤ (1)';
                    appBody.innerHTML = `
                        <!-- Chat List -->
                        <div onclick="openChatRoom()" class="bg-white p-3 rounded-xl shadow-sm border border-slate-100 flex items-center justify-between cursor-pointer">
                            <div class="flex items-center">
                                <div class="w-10 h-10 bg-slate-200 rounded-full mr-3 relative">
                                    <div class="absolute bottom-0 right-0 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full"></div>
                                </div>
                                <div>
                                    <p class="text-sm font-bold text-slate-800">JennieKim</p>
                                    <p class="text-[10px] text-slate-500 truncate w-32">å¥½çš„ï¼Œé‚£æˆ‘é€™é‚Šç¢ºèªä¸€ä¸‹...</p>
                                </div>
                            </div>
                            <div class="flex flex-col items-end">
                                <span class="text-[10px] text-slate-400">09:30</span>
                                <span class="w-4 h-4 bg-pink-500 text-white text-[8px] flex items-center justify-center rounded-full mt-1">1</span>
                            </div>
                        </div>
                    `;
                    break;
                
                case 'profile':
                    headerTitle.textContent = 'æˆ‘çš„æª”æ¡ˆ';
                    appBody.innerHTML = `
                        <div class="flex items-center mb-6">
                            <div class="w-16 h-16 bg-slate-300 rounded-full mr-4"></div>
                            <div>
                                <h2 class="text-lg font-bold text-slate-800 flex items-center">User123 <span class="ml-1 text-[10px] bg-slate-100 px-1 rounded">Free</span></h2>
                                <p class="text-xs text-slate-500">â­ï¸ 4.5 â€¢ äº¤æ˜“ 3 æ¬¡</p>
                            </div>
                        </div>
                        <!-- Stats -->
                        <div class="flex justify-between bg-white p-4 rounded-xl shadow-sm mb-6">
                            <div class="text-center w-1/3 border-r border-slate-100">
                                <div class="text-lg font-bold text-slate-800">12</div>
                                <div class="text-[10px] text-slate-400">æŒæœ‰ä¸­</div>
                            </div>
                            <div class="text-center w-1/3 border-r border-slate-100">
                                <div class="text-lg font-bold text-amber-500">2</div>
                                <div class="text-[10px] text-slate-400">æ´½è«‡ä¸­</div>
                            </div>
                            <div class="text-center w-1/3">
                                <div class="text-lg font-bold text-slate-400">5</div>
                                <div class="text-[10px] text-slate-400">å·²å®Œæˆ</div>
                            </div>
                        </div>
                        <!-- Card Grid -->
                        <h3 class="font-bold text-slate-700 mb-2">æˆ‘çš„å°å¡</h3>
                        <div class="grid grid-cols-2 gap-3">
                            <div class="bg-white rounded-lg p-2 shadow-sm">
                                <div class="w-full h-24 bg-slate-200 rounded mb-2"></div>
                                <div class="text-xs font-bold">NewJeans</div>
                                <div class="text-[10px] text-slate-500">OMG Album</div>
                            </div>
                            <div class="bg-white rounded-lg p-2 shadow-sm">
                                <div class="w-full h-24 bg-slate-200 rounded mb-2"></div>
                                <div class="text-xs font-bold">IVE</div>
                                <div class="text-[10px] text-slate-500">After Like</div>
                            </div>
                        </div>
                    `;
                    break;
            }
        }

        // --- Chat Detail Simulation ---
        function openChatRoom() {
            headerTitle.textContent = 'JennieKim';
            appBody.innerHTML = `
                <!-- Chat Messages -->
                <div class="space-y-4 pb-20">
                    <div class="flex justify-center"><span class="text-[10px] text-slate-400 bg-slate-100 px-2 py-1 rounded-full">ä½ å€‘å·²ç¶“æˆç‚ºå¥½å‹</span></div>
                    
                    <div class="flex justify-end">
                        <div class="bg-indigo-600 text-white text-xs px-3 py-2 rounded-l-xl rounded-tr-xl max-w-[80%]">
                            ä½ å¥½ï¼Œæˆ‘æœ‰çœ‹åˆ°ä½ çš„ NewJeans Hanni å°å¡ï¼
                        </div>
                    </div>

                    <div class="flex justify-start">
                        <div class="bg-white text-slate-800 text-xs px-3 py-2 rounded-r-xl rounded-tl-xl shadow-sm max-w-[80%]">
                            å—¨ï¼ä½ æƒ³ç”¨å“ªä¸€å¼µæ›ï¼Ÿ
                        </div>
                    </div>

                    <!-- TRADE WIDGET SIMULATION -->
                    <div class="mx-4 bg-white rounded-xl shadow-md border border-amber-200 overflow-hidden">
                        <div class="bg-amber-50 px-3 py-2 flex justify-between items-center border-b border-amber-100">
                            <span class="text-xs font-bold text-amber-700">âš–ï¸ äº¤æ›ææ¡ˆ #101</span>
                            <span class="text-[10px] bg-white px-1.5 py-0.5 rounded border border-amber-200 text-amber-600">Pending</span>
                        </div>
                        <div class="p-3 flex items-center justify-between">
                            <div class="text-center">
                                <div class="w-10 h-12 bg-slate-200 rounded mx-auto mb-1"></div>
                                <span class="text-[8px] text-slate-500">æˆ‘æ–¹æä¾›</span>
                            </div>
                            <span class="text-slate-300">â‡„</span>
                            <div class="text-center">
                                <div class="w-10 h-12 bg-slate-200 rounded mx-auto mb-1"></div>
                                <span class="text-[8px] text-slate-500">å°æ–¹æä¾›</span>
                            </div>
                        </div>
                        <div class="px-3 pb-3 flex space-x-2">
                             <button class="flex-1 bg-slate-100 text-slate-400 text-xs py-1.5 rounded" disabled>ç­‰å¾…å°æ–¹...</button>
                        </div>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="absolute bottom-0 left-0 w-full bg-white px-4 py-3 border-t border-slate-100 flex items-center">
                    <div class="flex-1 bg-slate-100 rounded-full h-8 px-3 text-xs flex items-center text-slate-400">è¼¸å…¥è¨Šæ¯...</div>
                    <button class="ml-2 w-8 h-8 bg-indigo-600 rounded-full text-white flex items-center justify-center">âœ</button>
                </div>

                <!-- Initiate Button Overlay -->
                <div class="absolute top-16 right-4">
                     <button class="bg-indigo-600 text-white text-xs px-3 py-1.5 rounded-full shadow-lg flex items-center animate-bounce">
                        ğŸ¤ ç™¼èµ·äº¤æ›
                     </button>
                </div>
            `;
        }


        // --- Trade Flow Detail Logic ---
        function highlightStep(step) {
            const detailBox = document.getElementById('flow-detail');
            detailBox.classList.remove('hidden');
            let content = '';

            if (step === 1) {
                content = `
                    <h3 class="text-lg font-bold text-indigo-300 mb-2">Step 1: ç™¼èµ·ææ¡ˆ (Initiate)</h3>
                    <p class="text-sm text-slate-300 mb-4">ä½¿ç”¨è€…é»æ“ŠèŠå¤©å®¤å³ä¸Šè§’çš„ã€Œç™¼èµ·äº¤æ›ã€æŒ‰éˆ•ï¼Œè§¸ç™¼ Half-Modal é¸å–®ã€‚</p>
                    <div class="bg-slate-900 p-4 rounded-lg border border-slate-700">
                        <p class="text-xs text-green-400 font-mono">UI ACTION:</p>
                        <p class="text-xs text-slate-400 font-mono">> Opens Modal</p>
                        <p class="text-xs text-slate-400 font-mono">> User Selects: [My Card A] + [My Card B]</p>
                        <p class="text-xs text-slate-400 font-mono">> User Selects: [Their Card C]</p>
                        <p class="text-xs text-slate-400 font-mono">> Button: "é€å‡ºææ¡ˆ"</p>
                    </div>
                `;
            } else if (step === 2) {
                content = `
                    <h3 class="text-lg font-bold text-amber-300 mb-2">Step 2: å”å•† (Negotiate)</h3>
                    <p class="text-sm text-slate-300 mb-4">ææ¡ˆä»¥ç‰¹æ®Š Widget å½¢å¼å‡ºç¾åœ¨èŠå¤©å®¤ã€‚ç‹€æ…‹ç‚º Pendingã€‚</p>
                    <div class="bg-slate-900 p-4 rounded-lg border border-slate-700">
                        <p class="text-xs text-amber-400 font-mono">STATE MACHINE:</p>
                        <p class="text-xs text-slate-400 font-mono">Current: PENDING</p>
                        <p class="text-xs text-slate-400 font-mono">Receiver sees: [Accept] / [Reject] Buttons</p>
                        <p class="text-xs text-slate-400 font-mono">Sender sees: "Waiting for response..."</p>
                        <p class="text-xs text-slate-400 font-mono">> IF Accept -> State: ACCEPTED (Cards Locked)</p>
                    </div>
                `;
            } else if (step === 3) {
                content = `
                    <h3 class="text-lg font-bold text-blue-300 mb-2">Step 3: é–å®šèˆ‡å®Œæˆ (Lock & Complete)</h3>
                    <p class="text-sm text-slate-300 mb-4">é›™æ–¹ç´„å®šé¢äº¤ã€‚è¦‹é¢å¾Œï¼Œé›™æ–¹éƒ½å¿…é ˆé»æ“Šã€Œç¢ºèªå®Œæˆã€ã€‚</p>
                    <div class="bg-slate-900 p-4 rounded-lg border border-slate-700">
                        <p class="text-xs text-blue-400 font-mono">LOGIC:</p>
                        <p class="text-xs text-slate-400 font-mono">State: ACCEPTED -> User A clicks [Complete]</p>
                        <p class="text-xs text-slate-400 font-mono">State: A_CONFIRMED (Waiting for B)</p>
                        <p class="text-xs text-slate-400 font-mono">> User B clicks [Complete]</p>
                        <p class="text-xs text-slate-400 font-mono">State: COMPLETED -> Trigger Rating Modal</p>
                    </div>
                `;
            } else if (step === 4) {
                 content = `
                    <h3 class="text-lg font-bold text-green-300 mb-2">Step 4: è©•åˆ† (Rating)</h3>
                    <p class="text-sm text-slate-300 mb-4">äº¤æ˜“å®Œæˆå¾Œï¼Œå¼·åˆ¶å½ˆå‡ºå…¨ç‰ˆè©•åˆ†è¦–çª—ã€‚</p>
                    <div class="bg-slate-900 p-4 rounded-lg border border-slate-700">
                        <p class="text-xs text-green-400 font-mono">DATA:</p>
                        <p class="text-xs text-slate-400 font-mono">Input: 1-5 Stars</p>
                        <p class="text-xs text-slate-400 font-mono">Input: Text Review (Optional)</p>
                        <p class="text-xs text-slate-400 font-mono">> Submit -> Updates User Trust Score</p>
                    </div>
                `;
            }
            detailBox.innerHTML = content;
        }

        // --- Chart.js Logic ---
        let myChart = null;
        function renderChart() {
            const ctx = document.getElementById('membershipChart').getContext('2d');
            
            if (myChart) {
                myChart.destroy();
            }

            myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['æ¯æ—¥ä¸Šå‚³ (å¼µ)', 'æ¯æ—¥æœå°‹ (æ¬¡)', 'åœ–ç‰‡å®¹é‡ (MB)', 'å„ªå…ˆæ’åº'],
                    datasets: [
                        {
                            label: 'å…è²»æœƒå“¡ (Free)',
                            data: [3, 5, 100, 1], // 1 for "Low" priority
                            backgroundColor: 'rgba(148, 163, 184, 0.5)', // Slate 400
                            borderColor: 'rgba(148, 163, 184, 1)',
                            borderWidth: 1
                        },
                        {
                            label: 'ä»˜è²»æœƒå“¡ (Premium)',
                            data: [20, 30, 1000, 10], // 30 represents "Unlimited/High", 10 for "High"
                            backgroundColor: 'rgba(79, 70, 229, 0.6)', // Indigo 600
                            borderColor: 'rgba(79, 70, 229, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed.y >= 20 && (context.dataIndex === 0 || context.dataIndex === 1)) {
                                        return label + 'ç„¡é™åˆ¶ (Unlimited)';
                                    }
                                    return label + context.parsed.y;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'é¡åº¦ / æ¬Šé‡'
                            }
                        }
                    }
                }
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderTab('home'); // Init phone screen
        });

    </script>
</body>
</html>