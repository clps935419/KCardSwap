# Backend
# Docker (compose) 預設連線：使用 db 服務名稱
DATABASE_URL=postgresql+asyncpg://kcardswap:kcardswap@db:5432/kcardswap
TEST_DATABASE_URL=postgresql+asyncpg://kcardswap:kcardswap@db:5432/kcardswap_test
# 若在本機非 Docker 啟動，請改回 localhost
GCS_BUCKET_NAME=kcardswap-dev
# Use mock GCS for development (true) or real GCS (false)
USE_MOCK_GCS=true
# Enable GCS smoke tests (only for staging/nightly CI)
RUN_GCS_SMOKE=false

# JWT Configuration
JWT_SECRET_KEY=change-me-to-a-secure-random-string-min-32-chars-VERY-IMPORTANT

# FastAPI
PORT=8000
ENVIRONMENT=development
DEBUG=false
SQL_ECHO=false

# Kong (if needed)
KONG_LOG_LEVEL=info

# Google OAuth (Phase 1)
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/v1/auth/google/callback

# Admin Initialization (Phase 2.5)
# Set INIT_DEFAULT_ADMIN=true to automatically create admin on startup
INIT_DEFAULT_ADMIN=false
DEFAULT_ADMIN_EMAIL=admin@kcardswap.local
DEFAULT_ADMIN_PASSWORD=
DEFAULT_ADMIN_ROLE=admin

# Firebase Cloud Messaging (Phase 5 - not yet implemented)
# FCM_SERVER_KEY=your-fcm-server-key

# CORS Origins (comma-separated)
# Development: Allow localhost ports for web and mobile
# Production: Set to your actual frontend domain(s)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:19006

# Cookie-JWT Settings (for Web authentication)
# Cookie names for access and refresh tokens
ACCESS_COOKIE_NAME=access_token
REFRESH_COOKIE_NAME=refresh_token

# Cookie security settings
# SameSite: "lax" for same-site requests, "none" for cross-site with Secure=true
COOKIE_SAMESITE=lax
# Secure: true for HTTPS in production, false for HTTP in development
COOKIE_SECURE=false
# Domain: Leave empty for same-origin, or set to your domain (e.g., .kcardswap.com)
COOKIE_DOMAIN=

# Token expiration
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7
