{
  "name": "POST /auth/google-callback",
  "description": "Google OAuth callback with PKCE - Authorization Code Flow for Expo AuthSession",
  "request": {
    "method": "POST",
    "path": "/auth/google-callback",
    "headers": {
      "Content-Type": "application/json"
    },
    "body": {
      "code": "string (required) - Authorization code from Google OAuth",
      "code_verifier": "string (required, 43-128 chars) - PKCE code verifier",
      "redirect_uri": "string (optional) - Redirect URI used during authorization"
    }
  },
  "responses": [
    {
      "status": 200,
      "description": "Successfully authenticated with PKCE flow",
      "body": {
        "data": {
          "access_token": "string - JWT access token",
          "refresh_token": "string - JWT refresh token",
          "token_type": "bearer",
          "expires_in": 900,
          "user_id": "uuid - User's unique identifier",
          "email": "string - User's email address"
        },
        "error": null
      }
    },
    {
      "status": 400,
      "description": "Validation error - invalid request format",
      "body": {
        "data": null,
        "error": {
          "code": "VALIDATION_ERROR",
          "message": "Invalid request format"
        }
      }
    },
    {
      "status": 401,
      "description": "Unauthorized - invalid code or code_verifier",
      "body": {
        "data": null,
        "error": {
          "code": "UNAUTHORIZED",
          "message": "Invalid authorization code or code_verifier. Token exchange failed."
        }
      }
    },
    {
      "status": 422,
      "description": "Token exchange failed with Google",
      "body": {
        "data": null,
        "error": {
          "code": "UNPROCESSABLE_ENTITY",
          "message": "Token exchange with Google failed"
        }
      }
    }
  ],
  "implemented": true,
  "security": {
    "pkce": true,
    "client_secret_required": false,
    "oauth_flow": "Authorization Code Flow with PKCE"
  },
  "notes": [
    "This endpoint implements OAuth 2.0 Authorization Code Flow with PKCE",
    "Recommended for Expo AuthSession and mobile applications",
    "Backend exchanges authorization code with Google token endpoint",
    "More secure than implicit flow - no client secret on mobile device"
  ]
}
