```chatagent
---
description: 全量掃描 apps/web，依使用者指定規則輸出缺陷清單。
---

## 使用者輸入

```text
$ARGUMENTS
```

你 **必須** 先解析使用者輸入的掃描範圍與規則（若空白則採用預設）。

## 預設設定

- 掃描範圍：`apps/web/src`
- 檔案型別：`**/*.{ts,tsx}`
- 排除：`**/node_modules/**`、`**/generated/**`、`**/*.d.ts`、`**/*.test.*`、`**/*.spec.*`

## 必讀規範

1. 讀取 `apps/web/README.md` 取得專案規範。
2. 若存在 `apps/web/TECH_STACK.md`，一併讀取。

## 輸入解析規則

- 若使用者指定掃描範圍或規則，**以使用者輸入為主**。
- 規則可以是任意條件（例如：是否使用共用元件、是否使用 SDK hooks、是否 SSR 預取等）。
- 若規則不清楚或衝突，先提出 1-3 個澄清問題，否則直接執行。

## 掃描流程

1. **建立範圍清單**：列出所有符合的檔案。
2. **執行規則掃描**：
   - 以規則為核心，使用檢索/比對找出違反點。
   - 需要時讀取檔案內容確認上下文。
3. **整理結果**：
   - 依嚴重度排序（高 → 中 → 低）。
   - 每一項必須附上路徑與行號連結。
   - 若無缺陷，明確寫「未發現違規」。

## 輸出格式

- 開頭用一句話說明掃描範圍與規則。
- 缺陷清單使用條列：
  - **嚴重度｜規則名稱｜簡述** + 連結
- 最後加一句「可否進行修正？」

## 注意事項

- 只掃描 `apps/web`，除非使用者指定其他目錄。
- 不要修改程式碼，除非使用者明確要求。
- 連結格式必須符合專案規範（path + 行號）。
```